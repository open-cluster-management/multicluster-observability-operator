apiVersion: monitoring.open-cluster-management.io/v1
kind: MultiClusterMonitoring
metadata:
  name: monitoring
spec:
  version: latest
  imageRepository: "quay.io/open-cluster-management"
  imageTagSuffix: ""
  imagePullPolicy: Always
  imagePullSecret: quay-secret
  storageClass: gp2
  observatorium:
    apiGateway:
      image: quay.io/observatorium/observatorium:HEAD-2020-04-16-v0.1.0
      version: HEAD-2020-04-16-v0.1.0
    compact:
      retentionResolution1h: 1s
      retentionResolution5m: 1s
      retentionResolutionRaw: 14d
      volumeClaimTemplate:
        spec:
          accessModes:
          - ReadWriteOnce
          resources:
            requests:
              storage: 1Gi
    hashrings:
    - hashring: default
      tenants: []
    objectStorageConfig:
      key: thanos.yaml
      name: thanos-objectstorage
    queryCache:
      image: quay.io/cortexproject/cortex:master-fdcd992f
      replicas: 1
      version: master-fdcd992f
    receivers:
      volumeClaimTemplate:
        spec:
          accessModes:
          - ReadWriteOnce
          resources:
            requests:
              storage: 1Gi
    rule:
      volumeClaimTemplate:
        spec:
          accessModes:
          - ReadWriteOnce
          resources:
            requests:
              storage: 1Gi
    store:
      cache:
        exporterImage: prom/memcached-exporter:v0.6.0
        exporterVersion: v0.6.0
        image: docker.io/memcached:1.6.3-alpine
        memoryLimitMb: 1024
        replicas: 1
        version: 1.6.3-alpine
      shards: 1
      volumeClaimTemplate:
        spec:
          accessModes:
          - ReadWriteOnce
          resources:
            requests:
              storage: 1Gi
    thanosImage: quay.io/thanos/thanos:v0.12.0-rc.1
    thanosReceiveController:
      image: quay.io/observatorium/thanos-receive-controller:master-2020-02-06-b66e0c8
      version: master-2020-02-06-b66e0c8
    thanosVersion: v0.12.0-rc.1
  grafana:
    ingress:
      enabled: false
    config:
      log:
        mode: "console"
        level: "warn"
      security:
        admin_user: "root"
        admin_password: "secret"
      auth:
        disable_login_form: true
        disable_signout_menu: true
      auth.anonymous:
        enabled: false
      server:
        root_url: "%(protocol)s://%(domain)s/grafana/"
        domain: "localhost"
    dashboardLabelSelector:
      - matchExpressions:
          - {key: app, operator: In, values: [grafana]}
    compat:
      fixAnnotations: true
      fixHeights: false
